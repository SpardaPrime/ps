const onSlider=()=>{if(document.getElementById("image-slider"))return new Splide("#image-slider",{perPage:2,perMove:2,gap:"32px",arrows:!0,pagination:!0,drag:!0,height:"430px",classes:{prev:"splide__arrow--prev my-class-prev",next:"splide__arrow--next my-class-next",pagination:"splide__pagination my-class-pagination"},breakpoints:{991:{perPage:1,perMove:1,arrows:!0},800:{arrows:!1,perPage:1,perMove:1,gap:"16px",padding:{right:"45px",left:"45px"}},600:{arrows:!1,perPage:1,perMove:1,gap:"16px",height:"auto",padding:{right:"45px",left:"45px"}}}}).mount()},onSliderFlags=()=>{if(document.getElementById("flags-slider"))return new Splide("#flags-slider",{type:"loop",perPage:2,perMove:1,gap:"16px",arrows:!1,pagination:!1,drag:!0,padding:{right:"45px",left:"45px"},breakpoints:{500:{perPage:1,perMove:1}}}).mount()},onSliderVacancyCard=()=>{if(document.getElementById("vacancy-card-slider"))return new Splide("#vacancy-card-slider",{type:"loop",perPage:1,perMove:1,gap:"16px",arrows:!1,pagination:!1,drag:!0,padding:{right:"45px",left:"45px"}}).mount()},hamburgerToggle=()=>{const e=document.getElementById("hamburger"),t=document.getElementById("navMobClose"),n=document.getElementById("mobileMenu");t.addEventListener("pointerdown",()=>{n.classList.toggle("navBarMob-show"),document.body.style.overflow="auto"}),e.addEventListener("pointerdown",()=>{n.classList.toggle("navBarMob-show"),document.body.style.overflow="hidden"})};function headerToggle(){const e=document.getElementById("header");window.addEventListener("scroll",function(){window.scrollY>=130&&(e.classList.add("navBar-fixed"),e.classList.add("show-from-fade")),window.scrollY<=130&&(e.classList.remove("show-from-fade"),e.classList.remove("navBar-fixed"))})}function changedText(){if(!document.getElementById("change-text"))return;const e=document.getElementById("change-text"),t=["Працевлаштування з індивідуальним підходом. підтримка менеджера з усіх питань 24/7.","Працевлаштування з індивідуальним підходом.","підтримка менеджера з усіх питань 24/7."];let n=0;!function o(){setTimeout(function(){e.innerHTML=`<h2 class="anim-change-text" id="change-text">${t[n]}</h2>`,t.length-1===n?n=0:n+=1,o()},1e4)}()}function toggleFlags(){if(!document.getElementById("flags-fields"))return;const e=document.getElementById("flags-fields").children;Array.from(e).forEach(function(t){t.addEventListener("click",function(n){Array.from(e).forEach(function(e){e.classList.remove("flag-active")}),t.classList.add("flag-active"),loadVacancyCard()})})}function toggleSliderFlags(){const e=document.querySelectorAll(".slide-flag");Array.from(e).length<1||Array.from(e).forEach(function(t){t.addEventListener("click",function(n){t.classList.contains("flag-active")||(Array.from(e).forEach(function(e){e.classList.remove("flag-active")}),t.classList.add("flag-active"),loadVacancyCard())})})}function toggleLang(e){const t=document.getElementById(e);Array.from(t.children).forEach(function(e){e.addEventListener("click",function(){e.classList.contains("active")||(Array.from(t.children).forEach(function(e){e.classList.remove("active")}),e.classList.add("active"))})})}function stickyMessagersToggle(){document.addEventListener("click",function(e){let t=e.target.closest("#fixed_messagers");if(!t){const e=document.getElementById("fixed_messagers");return e.querySelector(".fixed_messagers-icon").classList.contains("close-messagers")&&e.querySelector(".fixed_messagers-icon").classList.remove("close-messagers"),void(e.querySelector(".fixed_messagers-list").classList.contains("messagers-list-hide")||e.querySelector(".fixed_messagers-list").classList.add("messagers-list-hide"))}t.querySelector(".fixed_messagers-icon").classList.toggle("close-messagers"),t.querySelector(".fixed_messagers-list").classList.toggle("messagers-list-hide")})}function numberMask(){const e=document.getElementById("input-phone");IMask(e,{mask:"+{38}(000)000-00-00"}).updateValue()}function numberMaskAdaptive(e){IMask(e,{mask:"+{38}(000)000-00-00"}).updateValue()}function sendRequestPopup(){const e=document.getElementById("send-request-popup"),t=e.querySelector("form"),n=e.querySelector("#input-persname"),o=n.nextElementSibling,r=e.querySelector("#input-phone"),a=r.nextElementSibling,s=e.querySelector("#privaty-policy"),i=s.nextElementSibling.nextElementSibling;function c(){a.classList.remove("show-error"),r.classList.remove("border-error"),i.classList.remove("show-error"),o.classList.remove("show-error"),n.classList.remove("border-error")}t.addEventListener("submit",function(t){t.preventDefault(),function(e,t,s){c();let l=!0;return""==e&&(o.textContent="Пустое поле",o.classList.add("show-error"),n.classList.add("border-error"),l=!1),""==t&&(a.textContent="Пустое поле",a.classList.add("show-error"),r.classList.add("border-error"),l=!1),t.length<17&&(a.textContent="Не полный номер",a.classList.add("show-error"),r.classList.add("border-error"),l=!1),s||(i.classList.add("show-error"),l=!1),l}(n.value,r.value,s.checked)&&(console.log(n.value,r.value,s.checked),n.value="",r.value="",s.checked=!1,c(),hidepopUp(e))})}function hidepopUp(e){const t=Array.from(e.querySelectorAll("input")),n=Array.from(e.querySelectorAll(".show-error"));t.forEach(function(e){"checkbox"===e.type?e.checked=!1:(e.classList.remove("border-error"),e.value="")}),n.forEach(function(e){e.classList.remove("show-error")}),e.classList.remove("show-from-fade"),e.classList.add("hide-from-fade"),setTimeout(function(){e.classList.remove("show-popup","hide-from-fade"),document.body.style.overflow="auto"},300)}function togglePopup(){const e=document.getElementById("free-consultation"),t=document.getElementById("send-request-popup"),n=t.querySelector(".popup-name"),o=Array.from(document.querySelectorAll(".openPopUp"));function r(e){("close"==e.target.alt||e.target.classList.contains("popup"))&&hidepopUp(t)}function a(e){document.body.style.overflow="hidden",n.textContent=e.target.textContent[0].toLocaleUpperCase()+e.target.textContent.slice(1),t.classList.add("show-popup","show-from-fade")}t.querySelector(".close-popup").addEventListener("click",r),t.addEventListener("click",r),o&&o.forEach(function(e){e.addEventListener("click",a)}),e&&e.addEventListener("click",a)}function hideMobMenu(){const e=document.getElementById("mobileMenu"),t=Array.from(document.getElementById("mb-pages").children),n=Array.from(document.getElementById("mb-contacts").querySelectorAll("a"));t.concat(n).forEach(function(t){t.addEventListener("click",function(){e.classList.remove("navBarMob-show"),document.body.style.overflow="auto"})})}function maskForInputs({name:e=!1,age:t=!1,num:n=!1}){e&&e.addEventListener("input",function(t){e.classList.contains("border-error")&&(e.classList.remove("border-error"),e.nextElementSibling.classList.remove("show-error"));let n=t.target.value.replace(/\d/g,"");t.target.value=n}),t&&t.addEventListener("input",function(e){t.classList.contains("border-error")&&(t.classList.remove("border-error"),t.nextElementSibling.classList.remove("show-error"));let n=e.target.value.replace(/\D/g,"");e.target.value=n}),n&&n.addEventListener("input",function(e){n.classList.contains("border-error")&&(n.classList.remove("border-error"),n.nextElementSibling.classList.remove("show-error"))})}function sendRequest(e,t){if(!document.getElementById(e))return;const n=document.getElementById(e),o=n.querySelector("form"),r=n.querySelector(`#pers-name-${t}`),a=r.nextElementSibling,s=n.querySelector(`#pers-mob-${t}`),i=s.nextElementSibling,c=n.querySelector(`#pers-age-${t}`),l=c.nextElementSibling;function d(){i.classList.remove("show-error"),s.classList.remove("border-error"),l.classList.remove("show-error"),c.classList.remove("border-error"),a.classList.remove("show-error"),r.classList.remove("border-error")}numberMaskAdaptive(s),maskForInputs({name:r,age:c,num:s}),o.addEventListener("submit",function(e){e.preventDefault(),function(e,t,n){d();let o=!0;return""==e&&(a.textContent="Пустое поле",a.classList.add("show-error"),r.classList.add("border-error"),o=!1),""==t&&(i.textContent="Пустое поле",i.classList.add("show-error"),s.classList.add("border-error"),o=!1),t.length<17&&(i.textContent="Не полный номер",i.classList.add("show-error"),s.classList.add("border-error"),o=!1),n||(l.textContent="Пустое поле",l.classList.add("show-error"),c.classList.add("border-error"),o=!1),o}(r.value,s.value,c.value)&&(console.log(r.value,s.value,c.value),r.value="",s.value="",c.value="",d())})}const loading={on:function(e){document.getElementById(e).querySelector(".lds-ring").classList.add("loading")},off:function(e){document.getElementById(e).querySelector(".lds-ring").classList.remove("loading")}};function getVacancy(){return new Promise(function(e){setTimeout(function(){e([{title:"ВОДІЇ ДАЛЬНОБОЙЩИКИ КАТЕГОРІЇ С + Е",text:"У велику Литовську компанію, яка входить в Топ 10 компаній країни по мульти модальної логістиці, потрібен водій категорії С + Е.",sallary:"ВІД € 1800 В МІСЯЦЬ",img:"driver",hot:!0},{title:"ПОВАРА В МЕРЕЖА РЕСТОРАНІВ",text:"У литовську компанію, що зарекомендувала себе як один з лідерів сфери зберігання і організації системи доставки продукції.",sallary:"ВІД € 900 В МІСЯЦЬ",img:"cheff",hot:!1},{title:"РІЗНОРАБОЧІ НА ФАСОВКУ ПРОДУКТІВ",text:"У литовську компанію, що зарекомендувала себе як один з лідерів сфери зберігання і організації системи доставки продукції.",sallary:"ВІД € 600 В МІСЯЦЬ",img:"sortmaker",hot:!1},{title:"РАЗНОРАБОЧИЕ НА ЗАВОД ПО ПРОИЗВОДСТВУ МОДЕЛЕЙ ИЗ СТЕКЛА",text:"На литовський завод з виробництва моделей зі скла потрібні чоловіки різноробочі.",sallary:"ВІД € 800 - € 1400 В МІСЯЦЬ",img:"worker",hot:!1},{title:"ВОДІЇ",text:"У велику Литовську компанію, яка входить в Топ 10 компаній країни по мульти модальної логістиці, потрібен водій категорії С + Е.",sallary:"ВІД € 1800 В МІСЯЦЬ",img:"driver",hot:!0},{title:"ПОВАРА",text:"У литовську компанію, що зарекомендувала себе як один з лідерів сфери зберігання і організації системи доставки продукції.",sallary:"ВІД € 900 В МІСЯЦЬ",img:"cheff",hot:!1},{title:"РІЗНОРАБОЧІ",text:"У литовську компанію, що зарекомендувала себе як один з лідерів сфери зберігання і організації системи доставки продукції.",sallary:"ВІД € 600 В МІСЯЦЬ",img:"sortmaker",hot:!1},{title:"РАЗНОРАБОЧИЕ",text:"На литовський завод з виробництва моделей зі скла потрібні чоловіки різноробочі.",sallary:"ВІД € 800 - € 1400 В МІСЯЦЬ",img:"worker",hot:!1},{title:"worker",text:"На литовський завод з виробництва моделей зі скла потрібні чоловіки різноробочі.",sallary:"ВІД € 800 - € 1400 В МІСЯЦЬ",img:"worker",hot:!0}])},1e3)})}function goToId(e){document.getElementById(e).scrollIntoView({block:"center",behavior:"smooth"})}function injectVacancyData(e,t=0,n=0,o=!1){const r=document.getElementById("actual_vacancy"),a=r.querySelector(".vacancy_cards"),s=document.getElementById("vacancy-card-slider").querySelector(".splide__list");let i=r.querySelectorAll(".openPopUp");const c=document.getElementById("send-request-popup"),l=c.querySelector(".popup-name");function d(e){document.body.style.overflow="hidden",l.textContent=e.target.textContent[0].toLocaleUpperCase()+e.target.textContent.slice(1),c.classList.add("show-popup","show-from-fade")}i.forEach(function(e){e.removeEventListener("click",d)});const u='  <div class="icon">\n<img src="./assets/img/fire.svg" loading="lazy" height="47px" width="35px" alt="hot">\n<div class="red-text">ГАРЯЧА</div>\n</div>';let g=(e=e.slice(t,n)).map(function(e){return`<div class="vac_card">\n        <div class="card_img">\n            <picture >\n                <source type="image/jpeg" srcset="./assets/img/jpg/${e.img}.jpg" />\n                <source type="image/webp" srcset="./assets/img/webp/${e.img}.webp" />\n                <img :src="item.webp" height="295px" width="300px" alt="job" loading="lazy" />\n              </picture>\n        </div>\n        <div class="card_info">\n            <h3>${e.title}</h3>\n            <p>${e.text}</p>\n            <button type="button" data-vacancy="${e.title}" class="green-btn-small openPopUp">відгукнутися</button>\n            <div class="sullary">\n                <div class="text">\n                    <p>середньомісячна зарплата:</p>\n                    <h3>${e.sallary}</h3>\n                </div>\n                ${e.hot?u:""}\n            </div>\n        </div>\n    </div>`}),m=e.map(function(e){return`<li class="splide__slide">\n    <div class="vac_card">\n        <div class="card_img">\n            <picture >\n                <source type="image/jpeg" srcset="./assets/img/jpg/${e.img}.jpg" />\n                <source type="image/webp" srcset="./assets/img/webp/${e.img}.webp" />\n                <img :src="item.webp" height="295px" width="300px" alt="job" loading="lazy" />\n              </picture>\n        </div>\n        <div class="card_info">\n            <h3>${e.title}</h3>\n<p>${e.text}</p>\n<button type="button" data-vacancy="${e.title}" class="green-btn-small openPopUp">відгукнутися</button>\n\n            <div class="sullary">\n                <div class="text">\n                    <p>середньомісячна зарплата:</p>\n                    <h3>${e.sallary}</h3>\n                </div>\n                ${e.hot?u:""}\n            </div>\n        </div>\n    </div>\n</li>`});a.innerHTML=g.join(""),s.innerHTML=m.join(""),onSliderVacancyCard(),r.querySelectorAll(".openPopUp").forEach(function(e){e.addEventListener("click",d)}),o&&goToId("actual_vacancy")}function buttonElCounter(e,t,n){const o=document.getElementById("view-else-btn"),r=o.querySelector("span"),a=Math.ceil(e/t);if(n!=a)if(o.classList.remove("btn-hide"),n!=a-1)r.textContent=t;else{let o=e-n*t;r.textContent=o}else o.classList.add("btn-hide")}function pag(){let e=null,t=null;loading.on("actual_vacancy"),getVacancy().then(function(n){e=n.length,t=new tui.Pagination(document.getElementById("tui-pagination-container"),{totalItems:e,itemsPerPage:4,visiblePages:5,centerAlign:!0,usageStatistics:!1}),loading.off("actual_vacancy"),t.getCurrentPage(),injectVacancyData(n,t.getCurrentPage()-1,4),buttonElCounter(e,4),t.on("beforeMove",function(t){let n=t.page;loading.on("actual_vacancy"),getVacancy().then(function(t){loading.off("actual_vacancy"),function(t,n,o,r=!1){let a=(n-1)*o;injectVacancyData(t,a,o+a,r),buttonElCounter(e,o,n)}(t,n,4,!0)})})})}function loadVacancyCard(e=!1){console.log("start"),loading.on("actual_vacancy"),getVacancy().then(function(e){injectVacancyData(e,0,5),loading.off("actual_vacancy")})}document.addEventListener("DOMContentLoaded",function(){onSlider(),onSliderFlags(),onSliderVacancyCard(),changedText(),hamburgerToggle(),headerToggle(),toggleFlags(),stickyMessagersToggle(),toggleSliderFlags(),toggleLang("toggle-mob-lang"),toggleLang("toggle-lang"),numberMask(),sendRequestPopup(),togglePopup(),hideMobMenu(),sendRequest("respond_vac_right_now-head","head"),sendRequest("respond_vac_right_now-body","body"),document.getElementById("tui-pagination-container")&&pag(),!document.getElementById("tui-pagination-container")&&document.getElementById("actual_vacancy")&&loadVacancyCard()});